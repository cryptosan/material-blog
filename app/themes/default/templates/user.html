{% extends "base.html" %}

{% block content %}
    <div class="container custom_width_user">
        <div class="well well-lg">
            <table>
                <tr valign="top">
                    <td><img src="{{ user.avatar(128) }}"></td>
                    <td>
                        <p>User: {{ user.nickname }}</p>
                        {% if user.about_me %}<p>{{ user.about_me }}</p>{% endif %}
                        {% if user.last_seen %}<p><i>Last seen on: {{ user.last_seen }}</i></p>{% endif %}
                        {% if user.id == g.user.id %}<p><a href="{{ url_for('edit') }}">Edit</a></p>{% endif %}
                    </td>
                </tr>
            </table>
        </div>

        {% include 'message/success.html' %}
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Desc</th>
                    <th>Author</th>
                    <th>Manage</th>
                </tr>
            </thead>
            <tbody>
            {% for post in posts.items %}
                {% include 'post.html' %}
            {% endfor %}
            </tbody>
        </table>
        {% if posts.has_prev %}
            <a href="{{ url_for('user', nickname=g.user.nickname, page=posts.prev_num) }}">&lt;&lt; Newer posts</a>
        {% else %}
            &lt;&lt; Newer posts
        {% endif %} |
        {% if posts.has_next %}
            <a href="{{ url_for('user', nickname=g.user.nickname, page=posts.next_num) }}">Older posts &gt;&gt;</a>
        {% else %}
            Older posts &gt;&gt;
        {% endif %}
    </div>
{% endblock %}